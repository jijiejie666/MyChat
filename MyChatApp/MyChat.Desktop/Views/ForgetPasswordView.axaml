<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:suki="clr-namespace:SukiUI.Controls;assembly=SukiUI"
             xmlns:vm="using:MyChat.Desktop.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="MyChat.Desktop.Views.ForgetPasswordView"
             x:DataType="vm:ForgetPasswordViewModel">

	<Grid>
		<Border Background="#20000000" />

		<suki:GlassCard Width="400" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="30">
			<StackPanel Spacing="20">

				<StackPanel Spacing="5">
					<TextBlock Text="重置密码" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
					<TextBlock Text="请验证身份信息以重置密码" Opacity="0.6" HorizontalAlignment="Center"/>
				</StackPanel>

				<StackPanel Spacing="15">
					<TextBox Text="{Binding Account}" Watermark="请输入账号"
                             Classes="Flat" Height="40"
                             IsEnabled="{Binding !IsBusy}"/>

					<TextBox Text="{Binding Nickname}" Watermark="请输入昵称 (用于身份验证)"
                             Classes="Flat" Height="40"
                             IsEnabled="{Binding !IsBusy}"/>

					<TextBox Text="{Binding NewPassword}" Watermark="请输入新密码"
                             PasswordChar="•" Classes="Flat" Height="40"
                             IsEnabled="{Binding !IsBusy}"/>
				</StackPanel>

				<StackPanel Spacing="5" Height="25">
					<ProgressBar IsIndeterminate="True" IsVisible="{Binding IsBusy}"
                                 HorizontalAlignment="Stretch" Height="2"/>

					<TextBlock Text="{Binding StatusMessage}"
                               Foreground="{DynamicResource SukiPrimaryColor}"
                               HorizontalAlignment="Center"
                               TextWrapping="Wrap" FontSize="12"/>
				</StackPanel>

				<StackPanel Spacing="10">
					<Button Command="{Binding SubmitCommand}" Content="确认重置"
                            Classes="Flat Primary" HorizontalAlignment="Stretch"
                            IsEnabled="{Binding !IsBusy}" Height="40"/>

					<Button Command="{Binding BackCommand}" Content="返回登录"
                            Classes="Flat" HorizontalAlignment="Center"
                            IsEnabled="{Binding !IsBusy}" Opacity="0.8"/>
				</StackPanel>

			</StackPanel>
		</suki:GlassCard>
	</Grid>
</UserControl>