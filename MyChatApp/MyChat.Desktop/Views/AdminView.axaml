<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             
             xmlns:suki="clr-namespace:SukiUI.Controls;assembly=SukiUI"
             xmlns:sys="clr-namespace:System;assembly=netstandard"
             xmlns:vm="clr-namespace:MyChat.Desktop.ViewModels"
             xmlns:models="clr-namespace:MyChat.Desktop.Models"
             
             mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="600"
             x:Class="MyChat.Desktop.Views.AdminView"
             x:DataType="vm:ChatViewModel"
             x:Name="Root">
	<Grid RowDefinitions="Auto, *">
		<TextBlock Text="ðŸ›¡ï¸ ç®¡ç†å‘˜æŽ§åˆ¶å°" FontSize="28" FontWeight="Bold" Margin="20"/>

		<ScrollViewer Grid.Row="1">
			<StackPanel Margin="20" Spacing="20">

				<Grid ColumnDefinitions="*, *, *">
					<suki:GlassCard Grid.Column="0" Margin="0,0,10,0" Padding="20">
						<StackPanel>
							<StackPanel Orientation="Horizontal" Spacing="10">
								<TextBlock Text="ðŸ‘¥" FontSize="24"/>
								<TextBlock Text="åœ¨çº¿å¥½å‹" FontWeight="Bold" Opacity="0.7" VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock Text="{Binding AdminOnlineCount}" FontSize="36" FontWeight="Bold" Margin="0,10,0,0" Foreground="{DynamicResource SukiPrimaryColor}"/>
							<TextBlock Text="å®žæ—¶åœ¨çº¿" FontSize="12" Opacity="0.6"/>
						</StackPanel>
					</suki:GlassCard>

					<suki:GlassCard Grid.Column="1" Margin="5,0,5,0" Padding="20">
						<StackPanel>
							<StackPanel Orientation="Horizontal" Spacing="10">
								<TextBlock Text="ðŸ’¬" FontSize="24"/>
								<TextBlock Text="æ¶ˆæ¯ç¼“å­˜" FontWeight="Bold" Opacity="0.7" VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock Text="{Binding AdminMessageCount}" FontSize="36" FontWeight="Bold" Margin="0,10,0,0" Foreground="{DynamicResource SukiPrimaryColor}"/>
							<TextBlock Text="æœ¬åœ°è®°å½•" FontSize="12" Opacity="0.6"/>
						</StackPanel>
					</suki:GlassCard>

					<suki:GlassCard Grid.Column="2" Margin="10,0,0,0" Padding="20">
						<StackPanel>
							<StackPanel Orientation="Horizontal" Spacing="10">
								<TextBlock Text="ðŸ–¥ï¸" FontSize="24"/>
								<TextBlock Text="æœåŠ¡å™¨" FontWeight="Bold" Opacity="0.7" VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock Text="{Binding ServerStatusText}" FontSize="24" FontWeight="Bold" Margin="0,18,0,0" Foreground="Green"/>
							<ProgressBar Value="100" Height="4" Margin="0,10,0,0" ShowProgressText="False"/>
						</StackPanel>
					</suki:GlassCard>
				</Grid>

				<suki:GlassCard Padding="20">
					<StackPanel Spacing="15">
						<TextBlock Text="ðŸ“¢ ç³»ç»Ÿå…¨å‘˜å¹¿æ’­" FontSize="18" FontWeight="Bold"/>

						<TextBox Text="{Binding BroadcastText}"
                                 Watermark="åœ¨æ­¤è¾“å…¥å¹¿æ’­å†…å®¹ (æ‰€æœ‰åœ¨çº¿ç”¨æˆ·å‡å¯è§)..."
                                 Height="80"
                                 AcceptsReturn="True"
                                 Classes="Flat"/>

						<Button Command="{Binding SendBroadcastCommand}"
                                Classes="Flat Primary"
                                HorizontalAlignment="Right"
                                Content="ðŸš€ ç«‹å³å‘é€"/>
					</StackPanel>
				</suki:GlassCard>

				<suki:GlassCard Padding="20">
					<StackPanel Spacing="15">
						<TextBlock Text="ðŸš« åœ¨çº¿ç”¨æˆ·ç®¡ç†" FontSize="18" FontWeight="Bold"/>

						<DataGrid ItemsSource="{Binding Contacts}"
                                  AutoGenerateColumns="False"
                                  Height="250"
                                  CanUserResizeColumns="True"
                                  IsReadOnly="True"
                                  HeadersVisibility="Column">
							<DataGrid.Columns>
								<DataGridTextColumn Header="ç”¨æˆ·ID" Binding="{Binding Id}" Width="80"/>

								<DataGridTextColumn Header="æ˜µç§°" Binding="{Binding Name}" Width="150"/>

								<DataGridCheckBoxColumn Header="åœ¨çº¿" Binding="{Binding IsOnline}" Width="60"/>

								<DataGridTemplateColumn Header="æ“ä½œ" Width="*">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate x:DataType="models:ChatContact">
											<StackPanel Orientation="Horizontal" Spacing="10">
												<Button Command="{Binding #Root.DataContext.KickUserCommand}"
                                                        CommandParameter="{Binding}"
                                                        Classes="Flat"
                                                        Content="ðŸ‘¢ è¸¢å‡º"
                                                        Background="#ff7675"
                                                        Foreground="White"
                                                        Padding="10,5"/>
											</StackPanel>
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
							</DataGrid.Columns>
						</DataGrid>
					</StackPanel>
				</suki:GlassCard>

			</StackPanel>
		</ScrollViewer>
	</Grid>
</UserControl>